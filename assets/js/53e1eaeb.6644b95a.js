"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7696],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return k}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},s=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,p=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),s=c(n),k=o,m=s["".concat(p,".").concat(k)]||s[k]||u[k]||l;return n?r.createElement(m,a(a({ref:t},d),{},{components:n})):r.createElement(m,a({ref:t},d))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,a=new Array(l);a[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:o,a[1]=i;for(var c=2;c<l;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}s.displayName="MDXCreateElement"},60:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return u}});var r=n(7462),o=n(3366),l=(n(7294),n(3905)),a=["components"],i={title:"\u5e38\u89c1\u95ee\u9898",sidebar_label:"\u5e38\u89c1\u95ee\u9898"},p=void 0,c={unversionedId:"docker/questions",id:"docker/questions",title:"\u5e38\u89c1\u95ee\u9898",description:"\u4fee\u6539\u955c\u50cf\u6e90",source:"@site/docs/docker/questions.md",sourceDirName:"docker",slug:"/docker/questions",permalink:"/docs/docker/questions",tags:[],version:"current",frontMatter:{title:"\u5e38\u89c1\u95ee\u9898",sidebar_label:"\u5e38\u89c1\u95ee\u9898"},sidebar:"Docker",previous:{title:"\u76f8\u5173",permalink:"/docs/docker/about"}},d={},u=[{value:"\u4fee\u6539\u955c\u50cf\u6e90",id:"\u4fee\u6539\u955c\u50cf\u6e90",level:2},{value:"\u63a8\u9001\u63a8\u9001\u955c\u50cf\u81f3\u963f\u91cc\u4e91\u5bb9\u5668",id:"\u63a8\u9001\u63a8\u9001\u955c\u50cf\u81f3\u963f\u91cc\u4e91\u5bb9\u5668",level:2},{value:"\u5b89\u88c5\u6269\u5c55\u5e93\u7684\u901a\u5e38\u547d\u4ee4",id:"\u5b89\u88c5\u6269\u5c55\u5e93\u7684\u901a\u5e38\u547d\u4ee4",level:2},{value:"\u5b89\u88c5gd\u5e93\u9700\u8981\u7279\u6b8a\u7167\u987e\uff0c\u6b65\u9aa4\u5982\u4e0b",id:"\u5b89\u88c5gd\u5e93\u9700\u8981\u7279\u6b8a\u7167\u987e\u6b65\u9aa4\u5982\u4e0b",level:2},{value:"\u89e3\u91ca\uff1a\u6267\u884cdocker-compose up -d\u65f6\u51fa\u73b0ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule",id:"\u89e3\u91ca\u6267\u884cdocker-compose-up--d\u65f6\u51fa\u73b0error-failed-to-setup-ip-tables-unable-to-enable-skip-dnat-rule",level:3},{value:"\u539f\u56e0\uff1a\u9632\u706b\u5899\u5173\u95ed\u4e4b\u540e\u9700\u8981\u91cd\u542fdocker\u670d\u52a1\u3002",id:"\u539f\u56e0\u9632\u706b\u5899\u5173\u95ed\u4e4b\u540e\u9700\u8981\u91cd\u542fdocker\u670d\u52a1",level:3},{value:"\u89e3\u51b3\u529e\u6cd5\uff1a\u91cd\u542fdocker",id:"\u89e3\u51b3\u529e\u6cd5\u91cd\u542fdocker",level:3},{value:"\u53d1\u73b0\u95ee\u9898",id:"\u53d1\u73b0\u95ee\u9898",level:2},{value:"\u89e3\u51b3\u95ee\u9898",id:"\u89e3\u51b3\u95ee\u9898",level:2},{value:"\u5148\u6839\u636e\u955c\u50cf\u540d\u79f0(<code>REPOSITORY</code>)\u5220\u9664\uff0c\u518d\u6839\u636e\u955c\u50cfID(<code>IMAGE ID</code>)\u5220\u9664",id:"\u5148\u6839\u636e\u955c\u50cf\u540d\u79f0repository\u5220\u9664\u518d\u6839\u636e\u955c\u50cfidimage-id\u5220\u9664",level:3},{value:"\u51fa\u73b0\u95ee\u9898",id:"\u51fa\u73b0\u95ee\u9898",level:2},{value:"\u627e\u5230\u539f\u56e0",id:"\u627e\u5230\u539f\u56e0",level:2},{value:"\u89e3\u51b3\u95ee\u9898",id:"\u89e3\u51b3\u95ee\u9898-1",level:2},{value:"\u65b9\u6848\u4e00\uff1a\u505c\u6b62\u5f53\u524d\u4f7f\u7528\u8be5\u7f51\u6bb5\u7684\u5bb9\u5668\u5e76\u5220\u9664\uff0c\u7136\u540e\u518d\u6b21\u4f7f\u7528docker-compose.yml\u7f16\u6392\u3002",id:"\u65b9\u6848\u4e00\u505c\u6b62\u5f53\u524d\u4f7f\u7528\u8be5\u7f51\u6bb5\u7684\u5bb9\u5668\u5e76\u5220\u9664\u7136\u540e\u518d\u6b21\u4f7f\u7528docker-composeyml\u7f16\u6392",level:3},{value:"\u65b9\u6848\u4e8c\uff1a\u8bbe\u7f6e\u65b0\u7684\u81ea\u5b9a\u4e49subnet\u7f51\u6bb5\u5730\u5740\u3002",id:"\u65b9\u6848\u4e8c\u8bbe\u7f6e\u65b0\u7684\u81ea\u5b9a\u4e49subnet\u7f51\u6bb5\u5730\u5740",level:3}],s={toc:u};function k(e){var t=e.components,n=(0,o.Z)(e,a);return(0,l.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u4fee\u6539\u955c\u50cf\u6e90"},"\u4fee\u6539\u955c\u50cf\u6e90"),(0,l.kt)("p",null,"win10 Docker Desktop\u4fee\u6539\u955c\u50cf\u6e90(\u81ea\u5df2\u7684\u963f\u91cc\u955c\u50cf\u52a0\u901f\u5668)"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"https://blog.csdn.net/wto882dim/article/details/100518088")),(0,l.kt)("p",null,"Mac Docker \u4fee\u6539\u955c\u50cf\u6e90"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"[Preferences->Docker Engine]")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},' "registry-mirrors": [\n"https://hkym20lm.mirror.aliyuncs.com"\n]')),(0,l.kt)("h2",{id:"\u63a8\u9001\u63a8\u9001\u955c\u50cf\u81f3\u963f\u91cc\u4e91\u5bb9\u5668"},"\u63a8\u9001\u63a8\u9001\u955c\u50cf\u81f3\u963f\u91cc\u4e91\u5bb9\u5668"),(0,l.kt)("p",null,"\u547d\u4ee4\u884c\u767b\u5f55\u963f\u91cc\u4e91(\u5bc6\u7801\u4e3a\u5f00\u901a\u5bb9\u5668\u65f6\u7684\u5bc6\u7801)"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"sudo docker login --username=17753821682 registry.cn-hangzhou.aliyuncs.com")),(0,l.kt)("p",null,"\u5c06\u5bb9\u5668\u6253\u5305\u6210\u955c\u50cf"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker commit [Container ID] Image_name:[TAG]")),(0,l.kt)("p",null,"\u628a\u955c\u50cf\u6253\u4e0a\u963f\u91cc\u4e91Tag"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"sudo docker tag [ImageId] registry.cn-shanghai.aliyuncs.com/ylcode/php:[Tag]")),(0,l.kt)("p",null,"\u5c06\u955c\u50cf\u63a8\u9001\u5230Registry"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"sudo docker push registry.cn-shanghai.aliyuncs.com/ylcode/php:[Tag]")),(0,l.kt)("h2",{id:"\u5b89\u88c5\u6269\u5c55\u5e93\u7684\u901a\u5e38\u547d\u4ee4"},"\u5b89\u88c5\u6269\u5c55\u5e93\u7684\u901a\u5e38\u547d\u4ee4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-php"},"docker-php-ext-install \u6269\u5c55\u5e93\u540d\n")),(0,l.kt)("h2",{id:"\u5b89\u88c5gd\u5e93\u9700\u8981\u7279\u6b8a\u7167\u987e\u6b65\u9aa4\u5982\u4e0b"},"\u5b89\u88c5gd\u5e93\u9700\u8981\u7279\u6b8a\u7167\u987e\uff0c\u6b65\u9aa4\u5982\u4e0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-php"},"//\u8fdb\u5165PHP\u5bb9\u5668\n//\u66f4\u65b0\u8f6f\u4ef6\u6e90\napt update\n//\u5b89\u88c5\u5404\u79cd\u5e93\napt install -y libwebp-dev libjpeg-dev libpng-dev libfreetype6-dev\n//\u89e3\u538b\u6e90\u7801\ndocker-php-source extract\n//\u8fdb\u5165gd\u6e90\u7801\u6587\u4ef6\u5939\ncd /usr/src/php/ext/gd \n//\u51c6\u5907\u7f16\u8bd1\ndocker-php-ext-configure gd --with-webp-dir=/usr/include/webp --with-jpeg-dir=/usr/include --with-png-dir=/usr/include --with-freetype-dir=/usr/include/freetype2 \n//\u7f16\u8bd1\u5b89\u88c5\ndocker-php-ext-install gd \n//\u67e5\u770b\u662f\u5426\u6210\u529f\u5b89\u88c5gd\u6269\u5c55\nphp -m | grep gd\n//\u91cd\u542f\u5bb9\u5668\n")),(0,l.kt)("h1",{id:"error-failed-to-setup-ip-tables-unable-to-enable-skip-dnat-rule"},"ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule"),(0,l.kt)("h3",{id:"\u89e3\u91ca\u6267\u884cdocker-compose-up--d\u65f6\u51fa\u73b0error-failed-to-setup-ip-tables-unable-to-enable-skip-dnat-rule"},"\u89e3\u91ca\uff1a\u6267\u884cdocker-compose up -d\u65f6\u51fa\u73b0ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule"),(0,l.kt)("h3",{id:"\u539f\u56e0\u9632\u706b\u5899\u5173\u95ed\u4e4b\u540e\u9700\u8981\u91cd\u542fdocker\u670d\u52a1"},"\u539f\u56e0\uff1a\u9632\u706b\u5899\u5173\u95ed\u4e4b\u540e\u9700\u8981\u91cd\u542fdocker\u670d\u52a1\u3002"),(0,l.kt)("h3",{id:"\u89e3\u51b3\u529e\u6cd5\u91cd\u542fdocker"},"\u89e3\u51b3\u529e\u6cd5\uff1a\u91cd\u542fdocker"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"service docker restart\n")),(0,l.kt)("h1",{id:"docker\u955c\u50cf\u65e0\u6cd5\u5220\u9664"},"Docker\u955c\u50cf\u65e0\u6cd5\u5220\u9664"),(0,l.kt)("h2",{id:"\u53d1\u73b0\u95ee\u9898"},"\u53d1\u73b0\u95ee\u9898"),(0,l.kt)("p",null,"\u6765\u81ea\u5b88\u62a4\u8fdb\u7a0b\u7684\u9519\u8bef\u54cd\u5e94\uff1a\u51b2\u7a81\uff1a\u65e0\u6cd5\u5220\u9664050f26b6caca\uff08\u5fc5\u987b\u5f3a\u5236\uff09 - \u6620\u50cf\u5728\u591a\u4e2a\u5b58\u50a8\u5e93\u4e2d\u88ab\u5f15\u7528\n",(0,l.kt)("inlineCode",{parentName:"p"},"Error response from daemon: conflict: unable to delete 050f26b6caca (must be forced) - image is referenced in multiple repositories"),"\n",(0,l.kt)("img",{parentName:"p",src:"en-resource://database/642:1",alt:"bd680a1d48e3a75b43ee7c73ec059364.png"})),(0,l.kt)("h2",{id:"\u89e3\u51b3\u95ee\u9898"},"\u89e3\u51b3\u95ee\u9898"),(0,l.kt)("h3",{id:"\u5148\u6839\u636e\u955c\u50cf\u540d\u79f0repository\u5220\u9664\u518d\u6839\u636e\u955c\u50cfidimage-id\u5220\u9664"},"\u5148\u6839\u636e\u955c\u50cf\u540d\u79f0(",(0,l.kt)("inlineCode",{parentName:"h3"},"REPOSITORY"),")\u5220\u9664\uff0c\u518d\u6839\u636e\u955c\u50cfID(",(0,l.kt)("inlineCode",{parentName:"h3"},"IMAGE ID"),")\u5220\u9664"),(0,l.kt)("p",null,"\u547d\u4ee4\u53c2\u8003\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker rmi REPOSITORY")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"docker rmi IMAGE ID")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"en-resource://database/643:1",alt:"d23daacb864d047bd893d42733368742.png"})),(0,l.kt)("h1",{id:"error-pool-overlaps-with-other-one-on-this-address-space"},"ERROR: Pool overlaps with other one on this address space"),(0,l.kt)("h2",{id:"\u51fa\u73b0\u95ee\u9898"},"\u51fa\u73b0\u95ee\u9898"),(0,l.kt)("p",null,"\u914d\u7f6e\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),"\uff0c\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u7f51\u6bb5\uff0c\u5bfc\u81f4\u4e86\u5728\u8fd0\u884c\u7b2c\u4e8c\u4e2ayml\u6587\u4ef6\u65f6\u547d\u4ee4\u884c\u62a5\u9519",(0,l.kt)("inlineCode",{parentName:"p"},"\u76ee\u6807\u7f51\u6bb5\u5df2\u5b58\u5728"),"\uff0c\u62a5\u9519\u5982\u4e0b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'Creating network "v2_dev" with driver "bridge"\nERROR: Pool overlaps with other one on this address space\n')),(0,l.kt)("h2",{id:"\u627e\u5230\u539f\u56e0"},"\u627e\u5230\u539f\u56e0"),(0,l.kt)("p",null,"\u56e0\u4e3a\u76ee\u6807\u7f51\u6bb5\u5df2\u7ecf\u5b58\u5728\u7684\u539f\u56e0\uff0c\u901a\u5e38\u8fd9\u53d1\u751f\u5728\u5c06\u8981\u521b\u5efa\u7684networks\u624b\u52a8\u6307\u5b9a\u4e86subnet\u7f51\u6bb5\u5730\u5740\u7684\u65f6\u5019(\u6bd4\u5982\u7528docker-compose.yml\u7f16\u6392\u5bb9\u5668\uff0c\u81ea\u5b9a\u4e49\u4e86\u7f51\u6bb5\uff0c\u5e76\u624b\u52a8\u6307\u5b9a\u4e86\u5404\u4e2a\u5bb9\u5668\u7684ip\u5730\u5740)\u3002"),(0,l.kt)("h2",{id:"\u89e3\u51b3\u95ee\u9898-1"},"\u89e3\u51b3\u95ee\u9898"),(0,l.kt)("h3",{id:"\u65b9\u6848\u4e00\u505c\u6b62\u5f53\u524d\u4f7f\u7528\u8be5\u7f51\u6bb5\u7684\u5bb9\u5668\u5e76\u5220\u9664\u7136\u540e\u518d\u6b21\u4f7f\u7528docker-composeyml\u7f16\u6392"},"\u65b9\u6848\u4e00\uff1a\u505c\u6b62\u5f53\u524d\u4f7f\u7528\u8be5\u7f51\u6bb5\u7684\u5bb9\u5668\u5e76\u5220\u9664\uff0c\u7136\u540e\u518d\u6b21\u4f7f\u7528docker-compose.yml\u7f16\u6392\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# \u67e5\u770bdocker\u7f51\u5361\ndocker network ls\n\n # \u67e5\u770bdocker\u7f51\u5361\u7684\u76f8\u5173\u8be6\u7ec6\u4fe1\u606f  \u786e\u8ba4\u662f\u81ea\u5df1\u521b\u5efa\u7684ip\u6bb5 \u7136\u540e\u5728\u5220\u9664\u76f8\u5e94\u7684\u7f51\u5361\ndocker network inspect \u3010NETWORK ID\u3011\n\n # \u5220\u9664docker\u7f51\u5361\ndocker network rm \u3010NETWORK ID\u3011\n")),(0,l.kt)("h3",{id:"\u65b9\u6848\u4e8c\u8bbe\u7f6e\u65b0\u7684\u81ea\u5b9a\u4e49subnet\u7f51\u6bb5\u5730\u5740"},"\u65b9\u6848\u4e8c\uff1a\u8bbe\u7f6e\u65b0\u7684\u81ea\u5b9a\u4e49subnet\u7f51\u6bb5\u5730\u5740\u3002"),(0,l.kt)("h1",{id:"\u5bb9\u5668\u65f6\u95f4\u4e0e\u5bbf\u4e3b\u673a\u65f6\u95f4\u540c\u6b65"},"\u5bb9\u5668\u65f6\u95f4\u4e0e\u5bbf\u4e3b\u673a\u65f6\u95f4\u540c\u6b65"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"-v /etc/localtime:/etc/localtime")))}k.isMDXComponent=!0}}]);