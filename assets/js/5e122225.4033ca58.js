"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[202],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return k}});var r=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var o=r.createContext({}),d=function(e){var n=r.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=d(e.components);return r.createElement(o.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,s=e.mdxType,a=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=d(t),k=s,m=c["".concat(o,".").concat(k)]||c[k]||p[k]||a;return t?r.createElement(m,l(l({ref:n},u),{},{components:t})):r.createElement(m,l({ref:n},u))}));function k(e,n){var t=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var a=t.length,l=new Array(a);l[0]=c;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i.mdxType="string"==typeof e?e:s,l[1]=i;for(var d=2;d<a;d++)l[d]=t[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1584:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return o},default:function(){return k},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return p}});var r=t(7462),s=t(3366),a=(t(7294),t(3905)),l=["components"],i={title:"\u57fa\u7840",sidebar_label:"\u57fa\u7840"},o=void 0,d={unversionedId:"redis/history.base",id:"redis/history.base",title:"\u57fa\u7840",description:"\u5b89\u88c5",source:"@site/docs/redis/history.base.md",sourceDirName:"redis",slug:"/redis/history.base",permalink:"/docs/redis/history.base",tags:[],version:"current",frontMatter:{title:"\u57fa\u7840",sidebar_label:"\u57fa\u7840"}},u={},p=[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"Linux",id:"linux",level:3},{value:"\u6570\u636e\u7c7b\u578b",id:"\u6570\u636e\u7c7b\u578b",level:2},{value:"String\uff08\u5b57\u7b26\u4e32\uff09",id:"string\u5b57\u7b26\u4e32",level:3},{value:"Hash\uff08\u54c8\u5e0c\uff09",id:"hash\u54c8\u5e0c",level:3},{value:"List\uff08\u5217\u8868\uff09",id:"list\u5217\u8868",level:3},{value:"Set\uff08\u96c6\u5408\uff09",id:"set\u96c6\u5408",level:3},{value:"zset(sorted set\uff1a\u6709\u5e8f\u96c6\u5408)",id:"zsetsorted-set\u6709\u5e8f\u96c6\u5408",level:3},{value:"\u547d\u4ee4\u6c47\u603b",id:"\u547d\u4ee4\u6c47\u603b",level:2},{value:"key",id:"key",level:3},{value:"string",id:"string",level:3},{value:"hash",id:"hash",level:3},{value:"list",id:"list",level:3},{value:"set",id:"set",level:3},{value:"zset",id:"zset",level:3},{value:"\u6392\u5e8f\uff1a",id:"\u6392\u5e8f",level:3},{value:"\u8ba2\u9605\u4e0e\u53d1\u5e03\uff1a",id:"\u8ba2\u9605\u4e0e\u53d1\u5e03",level:3},{value:"redis\u4e8b\u52a1\uff1a",id:"redis\u4e8b\u52a1",level:3},{value:"\u670d\u52a1\u5668\u7ba1\u7406",id:"\u670d\u52a1\u5668\u7ba1\u7406",level:3},{value:"\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f",id:"\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f",level:2},{value:"\u7b80\u5355\u5b57\u7b26\u4e32\u7f13\u5b58\u5b9e\u6218",id:"\u7b80\u5355\u5b57\u7b26\u4e32\u7f13\u5b58\u5b9e\u6218",level:3},{value:"\u7b80\u5355\u961f\u5217\u7f13\u5b58\u5b9e\u6218",id:"\u7b80\u5355\u961f\u5217\u7f13\u5b58\u5b9e\u6218",level:3},{value:"\u7b80\u5355\u53d1\u5e03\u8ba2\u9605\u5b9e\u6218",id:"\u7b80\u5355\u53d1\u5e03\u8ba2\u9605\u5b9e\u6218",level:3},{value:"\u7b80\u5355\u8ba1\u6570\u5668\u5b9e\u6218",id:"\u7b80\u5355\u8ba1\u6570\u5668\u5b9e\u6218",level:3},{value:"\u6392\u884c\u699c\u5b9e\u6218",id:"\u6392\u884c\u699c\u5b9e\u6218",level:3},{value:"\u7b80\u5355\u5b57\u7b26\u4e32\u60b2\u89c2\u9501\u5b9e\u6218",id:"\u7b80\u5355\u5b57\u7b26\u4e32\u60b2\u89c2\u9501\u5b9e\u6218",level:3},{value:"\u7b80\u5355\u4e8b\u52a1\u7684\u4e50\u89c2\u9501\u5b9e\u6218",id:"\u7b80\u5355\u4e8b\u52a1\u7684\u4e50\u89c2\u9501\u5b9e\u6218",level:3}],c={toc:p};function k(e){var n=e.components,t=(0,s.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,a.kt)("h3",{id:"linux"},"Linux"),(0,a.kt)("h2",{id:"\u6570\u636e\u7c7b\u578b"},"\u6570\u636e\u7c7b\u578b"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Redis\u652f\u6301\u4e94\u79cd\u6570\u636e\u7c7b\u578b\uff1astring(\u5b57\u7b26\u4e32)\u3001hash(\u54c8\u5e0c)\u3001list(\u5217\u8868)\u3001set(\u96c6\u5408)\u3001zset(sorted set\uff1a\u6709\u5e8f\u96c6\u5408)")),(0,a.kt)("h3",{id:"string\u5b57\u7b26\u4e32"},"String\uff08\u5b57\u7b26\u4e32\uff09"),(0,a.kt)("p",null,"string \u662f redis \u6700\u57fa\u672c\u7684\u7c7b\u578b\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u6210\u4e0e Memcached \u4e00\u6a21\u4e00\u6837\u7684\u7c7b\u578b\uff0c\u4e00\u4e2a key \u5bf9\u5e94\u4e00\u4e2a value\u3002"),(0,a.kt)("p",null,"string \u7c7b\u578b\u662f\u4e8c\u8fdb\u5236\u5b89\u5168\u7684\u3002\u610f\u601d\u662f redis \u7684 string \u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6570\u636e\u3002\u6bd4\u5982jpg\u56fe\u7247\u6216\u8005\u5e8f\u5217\u5316\u7684\u5bf9\u8c61\u3002"),(0,a.kt)("p",null,"string \u7c7b\u578b\u662f Redis \u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0cstring \u7c7b\u578b\u7684\u503c\u6700\u5927\u80fd\u5b58\u50a8 512MB\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'redis 127.0.0.1:6379> SET name "runoob"\nOK\nredis 127.0.0.1:6379> GET name\n"runoob"\n')),(0,a.kt)("p",null,"\u5728\u4ee5\u4e0a\u5b9e\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86 Redis \u7684 SET \u548c GET \u547d\u4ee4\u3002\u952e\u4e3a name\uff0c\u5bf9\u5e94\u7684\u503c\u4e3a runoob\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f:"),"\u4e00\u4e2a\u952e\u6700\u5927\u80fd\u5b58\u50a8512MB\u3002"),(0,a.kt)("h3",{id:"hash\u54c8\u5e0c"},"Hash\uff08\u54c8\u5e0c\uff09"),(0,a.kt)("p",null,"Redis hash \u662f\u4e00\u4e2a\u952e\u503c(key=>value)\u5bf9\u96c6\u5408\u3002"),(0,a.kt)("p",null,"Redis hash \u662f\u4e00\u4e2a string \u7c7b\u578b\u7684 field \u548c value \u7684\u6620\u5c04\u8868\uff0chash \u7279\u522b\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\u3002"),(0,a.kt)("p",null,"\u5b9e\u4f8b\nDEL runoob \u7528\u4e8e\u5220\u9664\u524d\u9762\u6d4b\u8bd5\u7528\u8fc7\u7684 key\uff0c\u4e0d\u7136\u4f1a\u62a5\u9519\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"(error) WRONGTYPE Operation against a key holding the wrong kind of value")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'redis 127.0.0.1:6379> DEL runoob\nredis 127.0.0.1:6379> HMSET myhash field1 "Hello" field2 "World"\n"OK"\nredis 127.0.0.1:6379> HGET myhash field1\n"Hello"\nredis 127.0.0.1:6379> HGET myhash field2\n"World"\n')),(0,a.kt)("p",null,"\u5b9e\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528\u4e86 Redis HMSET, HGET \u547d\u4ee4\uff0cHMSET \u8bbe\u7f6e\u4e86\u4e24\u4e2a field=>value \u5bf9, HGET \u83b7\u53d6\u5bf9\u5e94 field \u5bf9\u5e94\u7684 value\u3002"),(0,a.kt)("p",null,"\u6bcf\u4e2a hash \u53ef\u4ee5\u5b58\u50a8 $2^32$ -1 \u952e\u503c\u5bf9\uff0840\u591a\u4ebf\u53732\u768432\u6b21\u65b9-1\uff09\u3002"),(0,a.kt)("h3",{id:"list\u5217\u8868"},"List\uff08\u5217\u8868\uff09"),(0,a.kt)("p",null,"Redis \u5217\u8868\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\u3002\u4f60\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9 lpush \uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9 rpush \uff09\u3002"),(0,a.kt)("p",null,"\u5b9e\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'redis 127.0.0.1:6379> DEL runoob\nredis 127.0.0.1:6379> lpush runoob redis\n(integer) 1\nredis 127.0.0.1:6379> lpush runoob mongodb\n(integer) 2\nredis 127.0.0.1:6379> lpush runoob rabitmq\n(integer) 3\nredis 127.0.0.1:6379> lrange runoob 0 10\n1) "rabitmq"\n2) "mongodb"\n3) "redis"\nredis 127.0.0.1:6379>\n')),(0,a.kt)("p",null,"\u5217\u8868\u6700\u591a\u53ef\u5b58\u50a8 232 - 1 \u5143\u7d20 (4294967295, \u6bcf\u4e2a\u5217\u8868\u53ef\u5b58\u50a840\u591a\u4ebf)\u3002\u3000\u3000"),(0,a.kt)("h3",{id:"set\u96c6\u5408"},"Set\uff08\u96c6\u5408\uff09"),(0,a.kt)("p",null,"Redis\u7684Set\u662fstring\u7c7b\u578b\u7684\u65e0\u5e8f\u96c6\u5408\u3002"),(0,a.kt)("p",null,"\u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u6dfb\u52a0\uff0c\u5220\u9664\uff0c\u67e5\u627e\u7684\u590d\u6742\u5ea6\u90fd\u662fO(1)\u3002"),(0,a.kt)("p",null,"sadd \u547d\u4ee4\n\u6dfb\u52a0\u4e00\u4e2a string \u5143\u7d20\u5230 key \u5bf9\u5e94\u7684 set \u96c6\u5408\u4e2d\uff0c\u6210\u529f\u8fd4\u56de1\uff0c\u5982\u679c\u5143\u7d20\u5df2\u7ecf\u5728\u96c6\u5408\u4e2d\u8fd4\u56de 0\uff0c\u5982\u679c key \u5bf9\u5e94\u7684 set \u4e0d\u5b58\u5728\u5219\u8fd4\u56de\u9519\u8bef\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sadd key member\n")),(0,a.kt)("p",null,"\u5b9e\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"redis 127.0.0.1:6379> DEL runoob\nredis 127.0.0.1:6379> sadd runoob redis\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob mongodb\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob rabitmq\n(integer) 1\nredis 127.0.0.1:6379> sadd runoob rabitmq\n(integer) 0\nredis 127.0.0.1:6379> smembers runoob\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'1) "redis"\n2) "rabitmq"\n3) "mongodb"\n')),(0,a.kt)("p",null,"\u6ce8\u610f\uff1a\u4ee5\u4e0a\u5b9e\u4f8b\u4e2d rabitmq \u6dfb\u52a0\u4e86\u4e24\u6b21\uff0c\u4f46\u6839\u636e\u96c6\u5408\u5185\u5143\u7d20\u7684\u552f\u4e00\u6027\uff0c\u7b2c\u4e8c\u6b21\u63d2\u5165\u7684\u5143\u7d20\u5c06\u88ab\u5ffd\u7565\u3002"),(0,a.kt)("p",null,"\u96c6\u5408\u4e2d\u6700\u5927\u7684\u6210\u5458\u6570\u4e3a 232 - 1(4294967295, \u6bcf\u4e2a\u96c6\u5408\u53ef\u5b58\u50a840\u591a\u4ebf\u4e2a\u6210\u5458)\u3002"),(0,a.kt)("h3",{id:"zsetsorted-set\u6709\u5e8f\u96c6\u5408"},"zset(sorted set\uff1a\u6709\u5e8f\u96c6\u5408)"),(0,a.kt)("p",null,"Redis zset \u548c set \u4e00\u6837\u4e5f\u662fstring\u7c7b\u578b\u5143\u7d20\u7684\u96c6\u5408,\u4e14\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u6210\u5458\u3002"),(0,a.kt)("p",null,"\u4e0d\u540c\u7684\u662f\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u5173\u8054\u4e00\u4e2adouble\u7c7b\u578b\u7684\u5206\u6570\u3002redis\u6b63\u662f\u901a\u8fc7\u5206\u6570\u6765\u4e3a\u96c6\u5408\u4e2d\u7684\u6210\u5458\u8fdb\u884c\u4ece\u5c0f\u5230\u5927\u7684\u6392\u5e8f\u3002"),(0,a.kt)("p",null,"zset\u7684\u6210\u5458\u662f\u552f\u4e00\u7684,\u4f46\u5206\u6570(score)\u5374\u53ef\u4ee5\u91cd\u590d\u3002 "),(0,a.kt)("p",null,"zadd \u547d\u4ee4\n\u6dfb\u52a0\u5143\u7d20\u5230\u96c6\u5408\uff0c\u5143\u7d20\u5728\u96c6\u5408\u4e2d\u5b58\u5728\u5219\u66f4\u65b0\u5bf9\u5e94score"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"zadd key score member\n")),(0,a.kt)("p",null,"\u5b9e\u4f8b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"redis 127.0.0.1:6379> DEL runoob\nredis 127.0.0.1:6379> zadd runoob 0 redis\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 mongodb\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 rabitmq\n(integer) 1\nredis 127.0.0.1:6379> zadd runoob 0 rabitmq\n(integer) 0\nredis 127.0.0.1:6379> > ZRANGEBYSCORE runoob 0 1000\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'1) "mongodb"\n2) "rabitmq"\n3) "redis"\n')),(0,a.kt)("p",null,"\u53c2\u8003\u6559\u7a0b\uff1a",(0,a.kt)("a",{parentName:"p",href:"https://www.runoob.com/redis/redis-data-types.html"},"https://www.runoob.com/redis/redis-data-types.html"),"   "),(0,a.kt)("h2",{id:"\u547d\u4ee4\u6c47\u603b"},"\u547d\u4ee4\u6c47\u603b"),(0,a.kt)("blockquote",null,(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u57fa\u4e8e\u5185\u5b58\u7684key-value\u6570\u636e\u5e93"),(0,a.kt)("li",{parentName:"ol"},"\u57fa\u4e8ec\u8bed\u8a00\u7f16\u5199\u7684\uff0c\u53ef\u4ee5\u652f\u6301\u591a\u79cd\u8bed\u8a00\u7684api //set\u6bcf\u79d211\u4e07\u6b21\uff0c\u53d6get 81000\u6b21"),(0,a.kt)("li",{parentName:"ol"},"\u652f\u6301\u6570\u636e\u6301\u4e45\u5316"),(0,a.kt)("li",{parentName:"ol"},"value\u53ef\u4ee5\u662fstring\uff0chash\uff0c list\uff0c set, sorted set"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4f7f\u7528\u573a\u666f"),(0,a.kt)("ol",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ol"},"\u53bb\u6700\u65b0n\u4e2a\u6570\u636e\u7684\u64cd\u4f5c"),(0,a.kt)("li",{parentName:"ol"},"\u6392\u884c\u699c\uff0c\u53d6top n\u4e2a\u6570\u636e //\u6700\u4f73\u4eba\u6c14\u524d10\u6761"),(0,a.kt)("li",{parentName:"ol"},"\u7cbe\u786e\u7684\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4"),(0,a.kt)("li",{parentName:"ol"},"\u8ba1\u6570\u5668"),(0,a.kt)("li",{parentName:"ol"},"\u5b9e\u65f6\u7cfb\u7edf\uff0c \u53cd\u5783\u573e\u7cfb\u7edf"),(0,a.kt)("li",{parentName:"ol"},"pub\uff0c sub\u53d1\u5e03\u8ba2\u9605\u6784\u5efa\u5b9e\u65f6\u6d88\u606f\u7cfb\u7edf"),(0,a.kt)("li",{parentName:"ol"},"\u6784\u5efa\u6d88\u606f\u961f\u5217"),(0,a.kt)("li",{parentName:"ol"},"\u7f13\u5b58"))),(0,a.kt)("p",null,"\u7ec8\u7aef\u8bbf\u95eeredis\n",(0,a.kt)("inlineCode",{parentName:"p"},"redis-cli")),(0,a.kt)("h3",{id:"key"},"key"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    keys * \u83b7\u53d6\u6240\u6709\u7684key\n    select 0 \u9009\u62e9\u7b2c\u4e00\u4e2a\u5e93\n    move myString 1 \u5c06\u5f53\u524d\u7684\u6570\u636e\u5e93key\u79fb\u52a8\u5230\u67d0\u4e2a\u6570\u636e\u5e93,\u76ee\u6807\u5e93\u6709\uff0c\u5219\u4e0d\u80fd\u79fb\u52a8\n    flush db      \u6e05\u9664\u6307\u5b9a\u5e93\n    randomkey     \u968f\u673akey\n    type key      \u7c7b\u578b\n    \n    set key1 value1 \u8bbe\u7f6ekey\n    get key1    \u83b7\u53d6key\n    mset key1 value1 key2 value2 key3 value3\n    mget key1 key2 key3\n    del key1   \u5220\u9664key\n    exists key      \u5224\u65ad\u662f\u5426\u5b58\u5728key\n    expire key 10   10\u8fc7\u671f\n    pexpire key 1000 \u6beb\u79d2\n    persist key     \u5220\u9664\u8fc7\u671f\u65f6\u95f4\n")),(0,a.kt)("h3",{id:"string"},"string"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    set name cxx\n    get name\n    getrange name 0 -1        \u5b57\u7b26\u4e32\u5206\u6bb5\n    getset name new_cxx       \u8bbe\u7f6e\u503c\uff0c\u8fd4\u56de\u65e7\u503c\n    mset key1 key2            \u6279\u91cf\u8bbe\u7f6e\n    mget key1 key2            \u6279\u91cf\u83b7\u53d6\n    setnx key value           \u4e0d\u5b58\u5728\u5c31\u63d2\u5165\uff08not exists\uff09\n    setex key time value      \u8fc7\u671f\u65f6\u95f4\uff08expire\uff09\n    setrange key index value  \u4eceindex\u5f00\u59cb\u66ff\u6362value\n    incr age        \u9012\u589e\n    incrby age 10   \u9012\u589e\n    decr age        \u9012\u51cf\n    decrby age 10   \u9012\u51cf\n    incrbyfloat     \u589e\u51cf\u6d6e\u70b9\u6570\n    append          \u8ffd\u52a0\n    strlen          \u957f\u5ea6\n    getbit/setbit/bitcount/bitop    \u4f4d\u64cd\u4f5c\n")),(0,a.kt)("h3",{id:"hash"},"hash"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'    hset myhash name cxx\n    hget myhash name\n    hmset myhash name cxx age 25 note "i am notes"\n    hmget myhash name age note   \n    hgetall myhash               \u83b7\u53d6\u6240\u6709\u7684\n    hexists myhash name          \u662f\u5426\u5b58\u5728\n    hsetnx myhash score 100      \u8bbe\u7f6e\u4e0d\u5b58\u5728\u7684\n    hincrby myhash id 1          \u9012\u589e\n    hdel myhash name             \u5220\u9664\n    hkeys myhash                 \u53ea\u53d6key\n    hvals myhash                 \u53ea\u53d6value\n    hlen myhash                  \u957f\u5ea6\n')),(0,a.kt)("h3",{id:"list"},"list"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    lpush mylist a b c  \u5de6\u63d2\u5165\n    rpush mylist x y z  \u53f3\u63d2\u5165\n    lrange mylist 0 -1  \u6570\u636e\u96c6\u5408\n    lpop mylist  \u5f39\u51fa\u5143\u7d20\n    rpop mylist  \u5f39\u51fa\u5143\u7d20\n    llen mylist  \u957f\u5ea6\n    lrem mylist count value  \u5220\u9664\n    lindex mylist 2          \u6307\u5b9a\u7d22\u5f15\u7684\u503c\n    lset mylist 2 n          \u7d22\u5f15\u8bbe\u503c\n    ltrim mylist 0 4         \u5220\u9664key\n    linsert mylist before a  \u63d2\u5165\n    linsert mylist after a   \u63d2\u5165\n    rpoplpush list list2     \u8f6c\u79fb\u5217\u8868\u7684\u6570\u636e\n")),(0,a.kt)("h3",{id:"set"},"set"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    sadd myset redis \n    smembers myset       \u6570\u636e\u96c6\u5408\n    srem myset set1         \u5220\u9664\n    sismember myset set1 \u5224\u65ad\u5143\u7d20\u662f\u5426\u5728\u96c6\u5408\u4e2d\n    scard key_name       \u4e2a\u6570\n    sdiff | sinter | sunion \u64cd\u4f5c\uff1a\u96c6\u5408\u95f4\u8fd0\u7b97\uff1a\u5dee\u96c6 | \u4ea4\u96c6 | \u5e76\u96c6\n    srandmember          \u968f\u673a\u83b7\u53d6\u96c6\u5408\u4e2d\u7684\u5143\u7d20\n    spop                 \u4ece\u96c6\u5408\u4e2d\u5f39\u51fa\u4e00\u4e2a\u5143\u7d20\n")),(0,a.kt)("h3",{id:"zset"},"zset"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    zadd zset 1 one\n    zadd zset 2 two\n    zadd zset 3 three\n    zincrby zset 1 one              \u589e\u957f\u5206\u6570\n    zscore zset two                 \u83b7\u53d6\u5206\u6570\n    zrange zset 0 -1 withscores     \u8303\u56f4\u503c\n    zrangebyscore zset 10 25 withscores \u6307\u5b9a\u8303\u56f4\u7684\u503c\n    zrangebyscore zset 10 25 withscores limit 1 2 \u5206\u9875\n    Zrevrangebyscore zset 10 25 withscores  \u6307\u5b9a\u8303\u56f4\u7684\u503c\n    zcard zset  \u5143\u7d20\u6570\u91cf\n    Zcount zset \u83b7\u5f97\u6307\u5b9a\u5206\u6570\u8303\u56f4\u5185\u7684\u5143\u7d20\u4e2a\u6570\n    Zrem zset one two        \u5220\u9664\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\n    Zremrangebyrank zset 0 1  \u6309\u7167\u6392\u540d\u8303\u56f4\u5220\u9664\u5143\u7d20\n    Zremrangebyscore zset 0 1 \u6309\u7167\u5206\u6570\u8303\u56f4\u5220\u9664\u5143\u7d20\n    Zrank zset 0 -1    \u5206\u6570\u6700\u5c0f\u7684\u5143\u7d20\u6392\u540d\u4e3a0\n    Zrevrank zset 0 -1  \u5206\u6570\u6700\u5927\u7684\u5143\u7d20\u6392\u540d\u4e3a0\n    Zinterstore\n    zunionstore rank:last_week 7 rank:20150323 rank:20150324 rank:20150325  weights 1 1 1 1 1 1 1\n")),(0,a.kt)("h3",{id:"\u6392\u5e8f"},"\u6392\u5e8f\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"    sort mylist  \u6392\u5e8f\n    sort mylist alpha desc limit 0 2 \u5b57\u6bcd\u6392\u5e8f\n    sort list by it:* desc           by\u547d\u4ee4\n    sort list by it:* desc get it:*  get\u53c2\u6570\n    sort list by it:* desc get it:* store sorc:result  sort\u547d\u4ee4\u4e4bstore\u53c2\u6570\uff1a\u8868\u793a\u628asort\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\u4fdd\u5b58\u8d77\u6765\n")),(0,a.kt)("h3",{id:"\u8ba2\u9605\u4e0e\u53d1\u5e03"},"\u8ba2\u9605\u4e0e\u53d1\u5e03\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'\u8ba2\u9605\u9891\u9053\uff1asubscribe chat1\n\u53d1\u5e03\u6d88\u606f\uff1apublish chat1 "hell0 ni hao"\n\u67e5\u770b\u9891\u9053\uff1apubsub channels\n\u67e5\u770b\u67d0\u4e2a\u9891\u9053\u7684\u8ba2\u9605\u8005\u6570\u91cf: pubsub numsub chat1\n\u9000\u8ba2\u6307\u5b9a\u9891\u9053\uff1a unsubscrible chat1   , punsubscribe java.*\n\u8ba2\u9605\u4e00\u7ec4\u9891\u9053\uff1a psubscribe java.*\n')),(0,a.kt)("h3",{id:"redis\u4e8b\u52a1"},"redis\u4e8b\u52a1\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"}," \u9694\u79bb\u6027\uff0c\u539f\u5b50\u6027\uff0c \n \u6b65\u9aa4\uff1a  \u5f00\u59cb\u4e8b\u52a1\uff0c\u6267\u884c\u547d\u4ee4\uff0c\u63d0\u4ea4\u4e8b\u52a1\n         multi  //\u5f00\u542f\u4e8b\u52a1\n         sadd myset a b c\n         sadd myset e f g\n         lpush mylist aa bb cc\n         lpush mylist dd ff gg\n")),(0,a.kt)("h3",{id:"\u670d\u52a1\u5668\u7ba1\u7406"},"\u670d\u52a1\u5668\u7ba1\u7406"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"dump.rdb\nappendonly.aof\n//BgRewriteAof \u5f02\u6b65\u6267\u884c\u4e00\u4e2aaop(appendOnly file)\u6587\u4ef6\u91cd\u5199\n\u4f1a\u521b\u5efa\u5f53\u524d\u4e00\u4e2aAOF\u6587\u4ef6\u4f53\u79ef\u7684\u4f18\u5316\u7248\u672c\n\n//BgSave \u540e\u53f0\u5f02\u6b65\u4fdd\u5b58\u6570\u636e\u5230\u78c1\u76d8\uff0c\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6dump.rdb\n//save\u540c\u6b65\u4fdd\u5b58\u6570\u636e\u5230\u78c1\u76d8\uff0c\u4f1a\u963b\u585e\u4e3b\u8fdb\u7a0b\uff0c\u522b\u7684\u5ba2\u6237\u7aef\u65e0\u6cd5\u8fde\u63a5\n\n//client kill \u5173\u95ed\u5ba2\u6237\u7aef\u8fde\u63a5\n//client list \u5217\u51fa\u6240\u6709\u7684\u5ba2\u6237\u7aef\n\n//\u7ed9\u5ba2\u6237\u7aef\u8bbe\u7f6e\u4e00\u4e2a\u540d\u79f0\n  client setname myclient1\n  client getname\n  \n config get port\n //configRewrite \u5bf9redis\u7684\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u6539\u5199\n")),(0,a.kt)("p",null,"rdb "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"save 900 1\nsave 300 10\nsave 60 10000\n")),(0,a.kt)("p",null,"aop\u5907\u4efd\u5904\u7406"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"appendonly yes    \u5f00\u542f\u6301\u4e45\u5316\nappendfsync everysec  \u6bcf\u79d2\u5907\u4efd\u4e00\u6b21\n")),(0,a.kt)("p",null,"\u547d\u4ee4\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bgsave\u5f02\u6b65\u4fdd\u5b58\u6570\u636e\u5230\u78c1\u76d8\uff08\u5feb\u7167\u4fdd\u5b58\uff09\nlastsave\u8fd4\u56de\u4e0a\u6b21\u6210\u529f\u4fdd\u5b58\u5230\u78c1\u76d8\u7684unix\u7684\u65f6\u95f4\u6233\nshutdown\u540c\u6b65\u4fdd\u5b58\u5230\u670d\u52a1\u5668\u5e76\u5173\u95edredis\u670d\u52a1\u5668\nbgrewriteaof\u6587\u4ef6\u538b\u7f29\u5904\u7406\uff08\u547d\u4ee4\uff09\n")),(0,a.kt)("h2",{id:"\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f"},"\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f"),(0,a.kt)("h3",{id:"\u7b80\u5355\u5b57\u7b26\u4e32\u7f13\u5b58\u5b9e\u6218"},"\u7b80\u5355\u5b57\u7b26\u4e32\u7f13\u5b58\u5b9e\u6218"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$redis->connect('127.0.0.1', 6379);\n$strCacheKey  = 'Test_bihu';\n\n//SET \u5e94\u7528\n$arrCacheData = [\n    'name' => 'job',\n    'sex'  => '\u7537',\n    'age'  => '30'\n];\n$redis->set($strCacheKey, json_encode($arrCacheData));\n$redis->expire($strCacheKey, 30);  # \u8bbe\u7f6e30\u79d2\u540e\u8fc7\u671f\n$json_data = $redis->get($strCacheKey);\n$data = json_decode($json_data);\nprint_r($data->age); //\u8f93\u51fa\u6570\u636e\n\n//HSET \u5e94\u7528\n$arrWebSite = [\n    'google' => [\n        'google.com',\n        'google.com.hk'\n    ],\n];\n$redis->hSet($strCacheKey, 'google', json_encode($arrWebSite['google']));\n$json_data = $redis->hGet($strCacheKey, 'google');\n$data = json_decode($json_data);\nprint_r($data); //\u8f93\u51fa\u6570\u636e\n")),(0,a.kt)("h3",{id:"\u7b80\u5355\u961f\u5217\u7f13\u5b58\u5b9e\u6218"},"\u7b80\u5355\u961f\u5217\u7f13\u5b58\u5b9e\u6218"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$redis->connect('127.0.0.1', 6379);\n$strQueueName  = 'Test_bihu_queue';\n\n//\u8fdb\u961f\u5217\n$redis->rpush($strQueueName, json_encode(['uid' => 1,'name' => 'Job']));\n$redis->rpush($strQueueName, json_encode(['uid' => 2,'name' => 'Tom']));\n$redis->rpush($strQueueName, json_encode(['uid' => 3,'name' => 'John']));\necho \"---- \u8fdb\u961f\u5217\u6210\u529f ---- <br /><br />\";\n\n//\u67e5\u770b\u961f\u5217\n$strCount = $redis->lrange($strQueueName, 0, -1);\necho \"\u5f53\u524d\u961f\u5217\u6570\u636e\u4e3a\uff1a <br />\";\nprint_r($strCount);\n\n//\u51fa\u961f\u5217\n$redis->lpop($strQueueName);\necho \"<br /><br /> ---- \u51fa\u961f\u5217\u6210\u529f ---- <br /><br />\";\n\n//\u67e5\u770b\u961f\u5217\n$strCount = $redis->lrange($strQueueName, 0, -1);\necho \"\u5f53\u524d\u961f\u5217\u6570\u636e\u4e3a\uff1a <br />\";\nprint_r($strCount);\n")),(0,a.kt)("h3",{id:"\u7b80\u5355\u53d1\u5e03\u8ba2\u9605\u5b9e\u6218"},"\u7b80\u5355\u53d1\u5e03\u8ba2\u9605\u5b9e\u6218"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"//\u4ee5\u4e0b\u662f pub.php \u6587\u4ef6\u7684\u5185\u5bb9 cli\u4e0b\u8fd0\u884c\nini_set('default_socket_timeout', -1);\n$redis->connect('127.0.0.1', 6379);\n$strChannel = 'Test_bihu_channel';\n\n//\u53d1\u5e03\n$redis->publish($strChannel, \"\u6765\u81ea{$strChannel}\u9891\u9053\u7684\u63a8\u9001\");\necho \"---- {$strChannel} ---- \u9891\u9053\u6d88\u606f\u63a8\u9001\u6210\u529f\uff5e <br/>\";\n$redis->close();\n// -------------------------------------------------------\n//\u4ee5\u4e0b\u662f sub.php \u6587\u4ef6\u5185\u5bb9 cli\u4e0b\u8fd0\u884c\nini_set('default_socket_timeout', -1);\n$redis->connect('127.0.0.1', 6379);\n$strChannel = 'Test_bihu_channel';\n\n//\u8ba2\u9605\necho \"---- \u8ba2\u9605{$strChannel}\u8fd9\u4e2a\u9891\u9053\uff0c\u7b49\u5f85\u6d88\u606f\u63a8\u9001...----  <br/><br/>\";\n$redis->subscribe([$strChannel], 'callBackFun');\nfunction callBackFun($redis, $channel, $msg)\n{\n    print_r([\n        'redis'   => $redis,\n        'channel' => $channel,\n        'msg'     => $msg\n    ]);\n}\n")),(0,a.kt)("h3",{id:"\u7b80\u5355\u8ba1\u6570\u5668\u5b9e\u6218"},"\u7b80\u5355\u8ba1\u6570\u5668\u5b9e\u6218"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$redis->connect('127.0.0.1', 6379);\n$strKey = 'Test_bihu_comments';\n\n//\u8bbe\u7f6e\u521d\u59cb\u503c\n$redis->set($strKey, 0);\n\n$redis->INCR($strKey);  //+1\n$redis->INCR($strKey);  //+1\n$redis->INCR($strKey);  //+1\n\n$strNowCount = $redis->get($strKey);\n\necho \"---- \u5f53\u524d\u6570\u91cf\u4e3a{$strNowCount}\u3002 ---- \";\n")),(0,a.kt)("h3",{id:"\u6392\u884c\u699c\u5b9e\u6218"},"\u6392\u884c\u699c\u5b9e\u6218"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$redis->connect('127.0.0.1', 6379);\n$strKey = 'Test_bihu_score';\n\n//\u5b58\u50a8\u6570\u636e\n$redis->zadd($strKey, '50', json_encode(['name' => 'Tom']));\n$redis->zadd($strKey, '70', json_encode(['name' => 'John']));\n$redis->zadd($strKey, '90', json_encode(['name' => 'Jerry']));\n$redis->zadd($strKey, '30', json_encode(['name' => 'Job']));\n$redis->zadd($strKey, '100', json_encode(['name' => 'LiMing']));\n\n$dataOne = $redis->ZREVRANGE($strKey, 0, -1, true);\necho \"---- {$strKey}\u7531\u5927\u5230\u5c0f\u7684\u6392\u5e8f ---- <br /><br />\";\nprint_r($dataOne);\n\n$dataTwo = $redis->ZRANGE($strKey, 0, -1, true);\necho \"<br /><br />---- {$strKey}\u7531\u5c0f\u5230\u5927\u7684\u6392\u5e8f ---- <br /><br />\";\nprint_r($dataTwo);\n")),(0,a.kt)("h3",{id:"\u7b80\u5355\u5b57\u7b26\u4e32\u60b2\u89c2\u9501\u5b9e\u6218"},"\u7b80\u5355\u5b57\u7b26\u4e32\u60b2\u89c2\u9501\u5b9e\u6218"),(0,a.kt)("p",null,"\u89e3\u91ca\uff1a\u60b2\u89c2\u9501(Pessimistic Lock), \u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u5f88\u60b2\u89c2\u3002"),(0,a.kt)("p",null,"\u6bcf\u6b21\u53bb\u62ff\u6570\u636e\u7684\u65f6\u5019\u90fd\u8ba4\u4e3a\u522b\u4eba\u4f1a\u4fee\u6539\uff0c\u6240\u4ee5\u6bcf\u6b21\u5728\u62ff\u6570\u636e\u7684\u65f6\u5019\u90fd\u4f1a\u4e0a\u9501\u3002"),(0,a.kt)("p",null,"\u573a\u666f\uff1a\u5982\u679c\u9879\u76ee\u4e2d\u4f7f\u7528\u4e86\u7f13\u5b58\u4e14\u5bf9\u7f13\u5b58\u8bbe\u7f6e\u4e86\u8d85\u65f6\u65f6\u95f4\u3002"),(0,a.kt)("p",null,"\u5f53\u5e76\u53d1\u91cf\u6bd4\u8f83\u5927\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709\u9501\u673a\u5236\uff0c\u90a3\u4e48\u7f13\u5b58\u8fc7\u671f\u7684\u77ac\u95f4\uff0c"),(0,a.kt)("p",null,"\u5927\u91cf\u5e76\u53d1\u8bf7\u6c42\u4f1a\u7a7f\u900f\u7f13\u5b58\u76f4\u63a5\u67e5\u8be2\u6570\u636e\u5e93\uff0c\u9020\u6210\u96ea\u5d29\u6548\u5e94\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"/**\n * \u83b7\u53d6\u9501\n * @param  String  $key    \u9501\u6807\u8bc6\n * @param  Int     $expire \u9501\u8fc7\u671f\u65f6\u95f4\n * @return Boolean\n */\npublic function lock($key = '', $expire = 5) {\n    $is_lock = $this->_redis->setnx($key, time()+$expire);\n    //\u4e0d\u80fd\u83b7\u53d6\u9501\n    if(!$is_lock){\n        //\u5224\u65ad\u9501\u662f\u5426\u8fc7\u671f\n        $lock_time = $this->_redis->get($key);\n        //\u9501\u5df2\u8fc7\u671f\uff0c\u5220\u9664\u9501\uff0c\u91cd\u65b0\u83b7\u53d6\n        if (time() > $lock_time) {\n            unlock($key);\n            $is_lock = $this->_redis->setnx($key, time() + $expire);\n        }\n    }\n\n    return $is_lock? true : false;\n}\n\n/**\n * \u91ca\u653e\u9501\n * @param  String  $key \u9501\u6807\u8bc6\n * @return Boolean\n */\npublic function unlock($key = ''){\n    return $this->_redis->del($key);\n}\n\n// \u5b9a\u4e49\u9501\u6807\u8bc6\n$key = 'Test_bihu_lock';\n\n// \u83b7\u53d6\u9501\n$is_lock = lock($key, 10);\nif ($is_lock) {\n    echo 'get lock success<br>';\n    echo 'do sth..<br>';\n    sleep(5);\n    echo 'success<br>';\n    unlock($key);\n} else { //\u83b7\u53d6\u9501\u5931\u8d25\n    echo 'request too frequently<br>';\n}\n")),(0,a.kt)("h3",{id:"\u7b80\u5355\u4e8b\u52a1\u7684\u4e50\u89c2\u9501\u5b9e\u6218"},"\u7b80\u5355\u4e8b\u52a1\u7684\u4e50\u89c2\u9501\u5b9e\u6218"),(0,a.kt)("p",null,"\u89e3\u91ca\uff1a\u4e50\u89c2\u9501(Optimistic Lock), \u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u5f88\u4e50\u89c2\u3002"),(0,a.kt)("p",null,"\u6bcf\u6b21\u53bb\u62ff\u6570\u636e\u7684\u65f6\u5019\u90fd\u8ba4\u4e3a\u522b\u4eba\u4e0d\u4f1a\u4fee\u6539\uff0c\u6240\u4ee5\u4e0d\u4f1a\u4e0a\u9501\u3002"),(0,a.kt)("p",null,"watch\u547d\u4ee4\u4f1a\u76d1\u89c6\u7ed9\u5b9a\u7684key\uff0c\u5f53exec\u65f6\u5019\u5982\u679c\u76d1\u89c6\u7684key\u4ece\u8c03\u7528watch\u540e\u53d1\u751f\u8fc7\u53d8\u5316\uff0c\u5219\u6574\u4e2a\u4e8b\u52a1\u4f1a\u5931\u8d25\u3002"),(0,a.kt)("p",null,"\u4e5f\u53ef\u4ee5\u8c03\u7528watch\u591a\u6b21\u76d1\u89c6\u591a\u4e2akey\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5bf9\u6307\u5b9a\u7684key\u52a0\u4e50\u89c2\u9501\u4e86\u3002"),(0,a.kt)("p",null,"\u6ce8\u610fwatch\u7684key\u662f\u5bf9\u6574\u4e2a\u8fde\u63a5\u6709\u6548\u7684\uff0c\u4e8b\u52a1\u4e5f\u4e00\u6837\u3002"),(0,a.kt)("p",null,"\u5982\u679c\u8fde\u63a5\u65ad\u5f00\uff0c\u76d1\u89c6\u548c\u4e8b\u52a1\u90fd\u4f1a\u88ab\u81ea\u52a8\u6e05\u9664\u3002"),(0,a.kt)("p",null,"\u5f53\u7136\u4e86exec\uff0cdiscard\uff0cunwatch\u547d\u4ee4\u90fd\u4f1a\u6e05\u9664\u8fde\u63a5\u4e2d\u7684\u6240\u6709\u76d1\u89c6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'$strKey = \'Test_bihu_age\';\n\n$redis->set($strKey,10);\n\n$age = $redis->get($strKey);\n\necho "---- Current Age:{$age} ---- <br/><br/>";\n\n$redis->watch($strKey);\n\n// \u5f00\u542f\u4e8b\u52a1\n$redis->multi();\n\n//\u5728\u8fd9\u4e2a\u65f6\u5019\u65b0\u5f00\u4e86\u4e00\u4e2a\u65b0\u4f1a\u8bdd\u6267\u884c\n$redis->set($strKey,30);  //\u65b0\u4f1a\u8bdd\n\necho "---- Current Age:{$age} ---- <br/><br/>"; //30\n\n$redis->set($strKey,20);\n\n$redis->exec();\n\n$age = $redis->get($strKey);\n\necho "---- Current Age:{$age} ---- <br/><br/>"; //30\n\n//\u5f53exec\u65f6\u5019\u5982\u679c\u76d1\u89c6\u7684key\u4ece\u8c03\u7528watch\u540e\u53d1\u751f\u8fc7\u53d8\u5316\uff0c\u5219\u6574\u4e2a\u4e8b\u52a1\u4f1a\u5931\u8d25\n')))}k.isMDXComponent=!0}}]);