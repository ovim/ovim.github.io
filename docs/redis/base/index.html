<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-redis/base">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ovimCloud RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ovimCloud Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="ovimCloud" href="/opensearch.xml">
<script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e41c66eb0d1e156cedfb6c839d5a7714",e.defer=!0;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script>
<meta name="baidu-site-verification" content="code-UW7yi5Jgyu">
<script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.defer=!0;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script>
<script>var _ovim=_ovim||[];!function(){var e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4511626659699541",e.defer=!0,e.async=!0,e.crossorigin="anonymous";var o=document.getElementsByTagName("script")[2];o.parentNode.insertBefore(e,o)}()</script>
<script crossorigin="anonymous" data-checked-head="" defer="defer" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4511626659699541"></script><title data-rh="true">åŸºç¡€ | ovimCloud</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://ovim.cloud/docs/redis/base"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="åŸºç¡€ | ovimCloud"><meta data-rh="true" name="description" content="å®‰è£…"><meta data-rh="true" property="og:description" content="å®‰è£…"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="http://ovim.cloud/docs/redis/base"><link data-rh="true" rel="alternate" href="http://ovim.cloud/docs/redis/base" hreflang="en"><link data-rh="true" rel="alternate" href="http://ovim.cloud/docs/redis/base" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C96TTNMFM5-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cef02aad.css">
<link rel="preload" href="/assets/js/runtime~main.94b7e390.js" as="script">
<link rel="preload" href="/assets/js/main.56714329.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="ovimCloud" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.svg" alt="ovimCloud" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ovimCloud</b></a><a class="navbar__item navbar__link" href="/case">SiteMap</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/version-control">Version control</a></li><li><a class="dropdown__link" href="/docs/docker">Docker</a></li><li><a class="dropdown__link" href="/docs/linux">Linux</a></li><li><a class="dropdown__link" href="/docs/nginx">Nginx</a></li><li><a class="dropdown__link" href="/docs/sql">SQL</a></li><li><a class="dropdown__link" href="/docs/php">PHP</a></li><li><a class="dropdown__link" href="/docs/go">Go</a></li><li><a class="dropdown__link" href="/docs/algorithm/base">ç®—æ³•</a></li><li><a class="dropdown__link" href="/docs/aliyun/ali-sms">ç¬¬ä¸‰æ–¹å¹³å°</a></li></ul></div><a href="https://github.com/ovim" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/sql/">SQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/mysql/">MySQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/redis/">Redis</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/redis/">ç®€ä»‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/redis/base">åŸºç¡€</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/redis/plus">è¿›é˜¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/redis/about">ç›¸å…³</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/elasticsearch/">ElasticSearch</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Redis</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">åŸºç¡€</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>åŸºç¡€</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="å®‰è£…">å®‰è£…<a class="hash-link" href="#å®‰è£…" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="linux">Linux<a class="hash-link" href="#linux" title="Direct link to heading">â€‹</a></h3><h2 class="anchor anchorWithStickyNavbar_mojV" id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹<a class="hash-link" href="#æ•°æ®ç±»å‹" title="Direct link to heading">â€‹</a></h2><blockquote><p>Redisæ”¯æŒäº”ç§æ•°æ®ç±»å‹ï¼šstring(å­—ç¬¦ä¸²)ã€hash(å“ˆå¸Œ)ã€list(åˆ—è¡¨)ã€set(é›†åˆ)ã€zset(sorted setï¼šæœ‰åºé›†åˆ)</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="stringå­—ç¬¦ä¸²">Stringï¼ˆå­—ç¬¦ä¸²ï¼‰<a class="hash-link" href="#stringå­—ç¬¦ä¸²" title="Direct link to heading">â€‹</a></h3><p>string æ˜¯ redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚</p><p>string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚</p><p>string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> SET name </span><span class="token string" style="color:#e3116c">&quot;runoob&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> GET name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;runoob&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† Redis çš„ SET å’Œ GET å‘½ä»¤ã€‚é”®ä¸º nameï¼Œå¯¹åº”çš„å€¼ä¸º runoobã€‚</p><p><strong>æ³¨æ„:</strong>ä¸€ä¸ªé”®æœ€å¤§èƒ½å­˜å‚¨512MBã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="hashå“ˆå¸Œ">Hashï¼ˆå“ˆå¸Œï¼‰<a class="hash-link" href="#hashå“ˆå¸Œ" title="Direct link to heading">â€‹</a></h3><p>Redis hash æ˜¯ä¸€ä¸ªé”®å€¼(key=&gt;value)å¯¹é›†åˆã€‚</p><p>Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p><p>å®ä¾‹
DEL runoob ç”¨äºåˆ é™¤å‰é¢æµ‹è¯•ç”¨è¿‡çš„ keyï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼š<code>(error) WRONGTYPE Operation against a key holding the wrong kind of value</code></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> DEL runoob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> HMSET myhash field1 </span><span class="token string" style="color:#e3116c">&quot;Hello&quot;</span><span class="token plain"> field2 </span><span class="token string" style="color:#e3116c">&quot;World&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;OK&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> HGET myhash field1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;Hello&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> HGET myhash field2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;World&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å®ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº† Redis HMSET, HGET å‘½ä»¤ï¼ŒHMSET è®¾ç½®äº†ä¸¤ä¸ª field=&gt;value å¯¹, HGET è·å–å¯¹åº” field å¯¹åº”çš„ valueã€‚</p><p>æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ $2^32$ -1 é”®å€¼å¯¹ï¼ˆ40å¤šäº¿å³2çš„32æ¬¡æ–¹-1ï¼‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="liståˆ—è¡¨">Listï¼ˆåˆ—è¡¨ï¼‰<a class="hash-link" href="#liståˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><p>Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ lpush ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ rpush ï¼‰ã€‚</p><p>å®ä¾‹</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> DEL runoob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> lpush runoob redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> lpush runoob mongodb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> lpush runoob rabitmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> lrange runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rabitmq&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mongodb&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åˆ—è¡¨æœ€å¤šå¯å­˜å‚¨ 232 - 1 å…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨å¯å­˜å‚¨40å¤šäº¿)ã€‚ã€€ã€€</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="seté›†åˆ">Setï¼ˆé›†åˆï¼‰<a class="hash-link" href="#seté›†åˆ" title="Direct link to heading">â€‹</a></h3><p>Redisçš„Setæ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚</p><p>é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p><p>sadd å‘½ä»¤
æ·»åŠ ä¸€ä¸ª string å…ƒç´ åˆ° key å¯¹åº”çš„ set é›†åˆä¸­ï¼ŒæˆåŠŸè¿”å›1ï¼Œå¦‚æœå…ƒç´ å·²ç»åœ¨é›†åˆä¸­è¿”å› 0ï¼Œå¦‚æœ key å¯¹åº”çš„ set ä¸å­˜åœ¨åˆ™è¿”å›é”™è¯¯ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">sadd key member</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å®ä¾‹</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> DEL runoob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sadd runoob redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sadd runoob mongodb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sadd runoob rabitmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> sadd runoob rabitmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> smembers runoob</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;redis&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;rabitmq&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) &quot;mongodb&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ³¨æ„ï¼šä»¥ä¸Šå®ä¾‹ä¸­ rabitmq æ·»åŠ äº†ä¸¤æ¬¡ï¼Œä½†æ ¹æ®é›†åˆå†…å…ƒç´ çš„å”¯ä¸€æ€§ï¼Œç¬¬äºŒæ¬¡æ’å…¥çš„å…ƒç´ å°†è¢«å¿½ç•¥ã€‚</p><p>é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1(4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="zsetsorted-setæœ‰åºé›†åˆ">zset(sorted setï¼šæœ‰åºé›†åˆ)<a class="hash-link" href="#zsetsorted-setæœ‰åºé›†åˆ" title="Direct link to heading">â€‹</a></h3><p>Redis zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚</p><p>ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚</p><p>zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚ </p><p>zadd å‘½ä»¤
æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”score</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">zadd key score member</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å®ä¾‹</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> DEL runoob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> zadd runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> zadd runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> mongodb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> zadd runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> rabitmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> zadd runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> rabitmq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">redis </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:637</span><span class="token operator file-descriptor important" style="color:#393A34">9</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ZRANGEBYSCORE runoob </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">1) &quot;mongodb&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2) &quot;rabitmq&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3) &quot;redis&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å‚è€ƒæ•™ç¨‹ï¼š<a href="https://www.runoob.com/redis/redis-data-types.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/redis/redis-data-types.html</a>   </p><h2 class="anchor anchorWithStickyNavbar_mojV" id="å‘½ä»¤æ±‡æ€»">å‘½ä»¤æ±‡æ€»<a class="hash-link" href="#å‘½ä»¤æ±‡æ€»" title="Direct link to heading">â€‹</a></h2><blockquote><ol><li>åŸºäºå†…å­˜çš„key-valueæ•°æ®åº“</li><li>åŸºäºcè¯­è¨€ç¼–å†™çš„ï¼Œå¯ä»¥æ”¯æŒå¤šç§è¯­è¨€çš„api //setæ¯ç§’11ä¸‡æ¬¡ï¼Œå–get 81000æ¬¡</li><li>æ”¯æŒæ•°æ®æŒä¹…åŒ–</li><li>valueå¯ä»¥æ˜¯stringï¼Œhashï¼Œ listï¼Œ set, sorted set</li></ol></blockquote><blockquote><p>ä½¿ç”¨åœºæ™¯</p><ol><li>å»æœ€æ–°nä¸ªæ•°æ®çš„æ“ä½œ</li><li>æ’è¡Œæ¦œï¼Œå–top nä¸ªæ•°æ® //æœ€ä½³äººæ°”å‰10æ¡</li><li>ç²¾ç¡®çš„è®¾ç½®è¿‡æœŸæ—¶é—´</li><li>è®¡æ•°å™¨</li><li>å®æ—¶ç³»ç»Ÿï¼Œ ååƒåœ¾ç³»ç»Ÿ</li><li>pubï¼Œ subå‘å¸ƒè®¢é˜…æ„å»ºå®æ—¶æ¶ˆæ¯ç³»ç»Ÿ</li><li>æ„å»ºæ¶ˆæ¯é˜Ÿåˆ—</li><li>ç¼“å­˜</li></ol></blockquote><p>ç»ˆç«¯è®¿é—®redis
<code>redis-cli</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="key">key<a class="hash-link" href="#key" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    keys * è·å–æ‰€æœ‰çš„key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> é€‰æ‹©ç¬¬ä¸€ä¸ªåº“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    move myString </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> å°†å½“å‰çš„æ•°æ®åº“keyç§»åŠ¨åˆ°æŸä¸ªæ•°æ®åº“,ç›®æ ‡åº“æœ‰ï¼Œåˆ™ä¸èƒ½ç§»åŠ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flush db      æ¸…é™¤æŒ‡å®šåº“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    randomkey     éšæœºkey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">type</span><span class="token plain"> key      ç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">set</span><span class="token plain"> key1 value1 è®¾ç½®key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get key1    è·å–key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mset key1 value1 key2 value2 key3 value3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mget key1 key2 key3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    del key1   åˆ é™¤key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exists key      åˆ¤æ–­æ˜¯å¦å­˜åœ¨key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expire key </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">è¿‡æœŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pexpire key </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> æ¯«ç§’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    persist key     åˆ é™¤è¿‡æœŸæ—¶é—´</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="string">string<a class="hash-link" href="#string" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">set</span><span class="token plain"> name cxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getrange name </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -1        å­—ç¬¦ä¸²åˆ†æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getset name new_cxx       è®¾ç½®å€¼ï¼Œè¿”å›æ—§å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mset key1 key2            æ‰¹é‡è®¾ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mget key1 key2            æ‰¹é‡è·å–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setnx key value           ä¸å­˜åœ¨å°±æ’å…¥ï¼ˆnot existsï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setex key </span><span class="token function" style="color:#d73a49">time</span><span class="token plain"> value      è¿‡æœŸæ—¶é—´ï¼ˆexpireï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setrange key index value  ä»indexå¼€å§‹æ›¿æ¢value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    incr age        é€’å¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    incrby age </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">   é€’å¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decr age        é€’å‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decrby age </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">   é€’å‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    incrbyfloat     å¢å‡æµ®ç‚¹æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    append          è¿½åŠ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    strlen          é•¿åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getbit/setbit/bitcount/bitop    ä½æ“ä½œ</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="hash">hash<a class="hash-link" href="#hash" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    hset myhash name cxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hget myhash name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hmset myhash name cxx age </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> note </span><span class="token string" style="color:#e3116c">&quot;i am notes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hmget myhash name age note   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hgetall myhash               è·å–æ‰€æœ‰çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hexists myhash name          æ˜¯å¦å­˜åœ¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hsetnx myhash score </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">      è®¾ç½®ä¸å­˜åœ¨çš„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hincrby myhash </span><span class="token function" style="color:#d73a49">id</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">          é€’å¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hdel myhash name             åˆ é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hkeys myhash                 åªå–key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hvals myhash                 åªå–value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hlen myhash                  é•¿åº¦</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="list">list<a class="hash-link" href="#list" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    lpush mylist a b c  å·¦æ’å…¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rpush mylist x y z  å³æ’å…¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lrange mylist </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -1  æ•°æ®é›†åˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lpop mylist  å¼¹å‡ºå…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rpop mylist  å¼¹å‡ºå…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    llen mylist  é•¿åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lrem mylist count value  åˆ é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lindex mylist </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">          æŒ‡å®šç´¢å¼•çš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lset mylist </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> n          ç´¢å¼•è®¾å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ltrim mylist </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">         åˆ é™¤key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    linsert mylist before a  æ’å…¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    linsert mylist after a   æ’å…¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rpoplpush list list2     è½¬ç§»åˆ—è¡¨çš„æ•°æ®</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="set">set<a class="hash-link" href="#set" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    sadd myset redis </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    smembers myset       æ•°æ®é›†åˆ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    srem myset set1         åˆ é™¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sismember myset set1 åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scard key_name       ä¸ªæ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sdiff</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> sinter </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> sunion æ“ä½œï¼šé›†åˆé—´è¿ç®—ï¼šå·®é›† </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> äº¤é›† </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> å¹¶é›†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    srandmember          éšæœºè·å–é›†åˆä¸­çš„å…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spop                 ä»é›†åˆä¸­å¼¹å‡ºä¸€ä¸ªå…ƒç´ </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="zset">zset<a class="hash-link" href="#zset" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    zadd zset </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> one</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zadd zset </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> two</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zadd zset </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> three</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zincrby zset </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> one              å¢é•¿åˆ†æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zscore zset two                 è·å–åˆ†æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zrange zset </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -1 withscores     èŒƒå›´å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zrangebyscore zset </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> withscores æŒ‡å®šèŒƒå›´çš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zrangebyscore zset </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> withscores limit </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> åˆ†é¡µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zrevrangebyscore zset </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> withscores  æŒ‡å®šèŒƒå›´çš„å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zcard zset  å…ƒç´ æ•°é‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zcount zset è·å¾—æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„å…ƒç´ ä¸ªæ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zrem zset one two        åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zremrangebyrank zset </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  æŒ‰ç…§æ’åèŒƒå›´åˆ é™¤å…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zremrangebyscore zset </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> æŒ‰ç…§åˆ†æ•°èŒƒå›´åˆ é™¤å…ƒç´ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zrank zset </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -1    åˆ†æ•°æœ€å°çš„å…ƒç´ æ’åä¸º0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zrevrank zset </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> -1  åˆ†æ•°æœ€å¤§çš„å…ƒç´ æ’åä¸º0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Zinterstore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zunionstore rank:last_week </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> rank:20150323 rank:20150324 rank:20150325  weights </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="æ’åº">æ’åºï¼š<a class="hash-link" href="#æ’åº" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> mylist  æ’åº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> mylist alpha desc limit </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> å­—æ¯æ’åº</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> list by it:* desc           byå‘½ä»¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> list by it:* desc get it:*  getå‚æ•°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sort</span><span class="token plain"> list by it:* desc get it:* store sorc:result  sortå‘½ä»¤ä¹‹storeå‚æ•°ï¼šè¡¨ç¤ºæŠŠsortæŸ¥è¯¢çš„ç»“æœé›†ä¿å­˜èµ·æ¥</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="è®¢é˜…ä¸å‘å¸ƒ">è®¢é˜…ä¸å‘å¸ƒï¼š<a class="hash-link" href="#è®¢é˜…ä¸å‘å¸ƒ" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">è®¢é˜…é¢‘é“ï¼šsubscribe chat1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">å‘å¸ƒæ¶ˆæ¯ï¼špublish chat1 &quot;hell0 ni hao&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŸ¥çœ‹é¢‘é“ï¼špubsub channels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æŸ¥çœ‹æŸä¸ªé¢‘é“çš„è®¢é˜…è€…æ•°é‡: pubsub numsub chat1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">é€€è®¢æŒ‡å®šé¢‘é“ï¼š unsubscrible chat1   , punsubscribe java.*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">è®¢é˜…ä¸€ç»„é¢‘é“ï¼š psubscribe java.*</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="redisäº‹åŠ¡">redisäº‹åŠ¡ï¼š<a class="hash-link" href="#redisäº‹åŠ¡" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> éš”ç¦»æ€§ï¼ŒåŸå­æ€§ï¼Œ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> æ­¥éª¤ï¼š  å¼€å§‹äº‹åŠ¡ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œæäº¤äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         multi  //å¼€å¯äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         sadd myset a b c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         sadd myset e f g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         lpush mylist aa bb cc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         lpush mylist dd ff gg</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡å™¨ç®¡ç†">æœåŠ¡å™¨ç®¡ç†<a class="hash-link" href="#æœåŠ¡å™¨ç®¡ç†" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dump.rdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appendonly.aof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//BgRewriteAof å¼‚æ­¥æ‰§è¡Œä¸€ä¸ªaop(appendOnly file)æ–‡ä»¶é‡å†™</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ä¼šåˆ›å»ºå½“å‰ä¸€ä¸ªAOFæ–‡ä»¶ä½“ç§¯çš„ä¼˜åŒ–ç‰ˆæœ¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//BgSave åå°å¼‚æ­¥ä¿å­˜æ•°æ®åˆ°ç£ç›˜ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶dump.rdb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//saveåŒæ­¥ä¿å­˜æ•°æ®åˆ°ç£ç›˜ï¼Œä¼šé˜»å¡ä¸»è¿›ç¨‹ï¼Œåˆ«çš„å®¢æˆ·ç«¯æ— æ³•è¿æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//client kill å…³é—­å®¢æˆ·ç«¯è¿æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//client list åˆ—å‡ºæ‰€æœ‰çš„å®¢æˆ·ç«¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ç»™å®¢æˆ·ç«¯è®¾ç½®ä¸€ä¸ªåç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client setname myclient1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  client getname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> config get port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> //configRewrite å¯¹redisçš„é…ç½®æ–‡ä»¶è¿›è¡Œæ”¹å†™</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>rdb </p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">save 900 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">save 300 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">save 60 10000</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>aopå¤‡ä»½å¤„ç†</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">appendonly yes    å¼€å¯æŒä¹…åŒ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">appendfsync everysec  æ¯ç§’å¤‡ä»½ä¸€æ¬¡</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å‘½ä»¤ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">bgsaveå¼‚æ­¥ä¿å­˜æ•°æ®åˆ°ç£ç›˜ï¼ˆå¿«ç…§ä¿å­˜ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lastsaveè¿”å›ä¸Šæ¬¡æˆåŠŸä¿å­˜åˆ°ç£ç›˜çš„unixçš„æ—¶é—´æˆ³</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shutdownåŒæ­¥ä¿å­˜åˆ°æœåŠ¡å™¨å¹¶å…³é—­redisæœåŠ¡å™¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bgrewriteaofæ–‡ä»¶å‹ç¼©å¤„ç†ï¼ˆå‘½ä»¤ï¼‰</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="å¸¸è§çš„ä½¿ç”¨åœºæ™¯">å¸¸è§çš„ä½¿ç”¨åœºæ™¯<a class="hash-link" href="#å¸¸è§çš„ä½¿ç”¨åœºæ™¯" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•å­—ç¬¦ä¸²ç¼“å­˜å®æˆ˜">ç®€å•å­—ç¬¦ä¸²ç¼“å­˜å®æˆ˜<a class="hash-link" href="#ç®€å•å­—ç¬¦ä¸²ç¼“å­˜å®æˆ˜" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strCacheKey  = &#x27;Test_bihu&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//SET åº”ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$arrCacheData = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;name&#x27; =&gt; &#x27;job&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;sex&#x27;  =&gt; &#x27;ç”·&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;age&#x27;  =&gt; &#x27;30&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;set($strCacheKey, json_encode($arrCacheData));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;expire($strCacheKey, 30);  # è®¾ç½®30ç§’åè¿‡æœŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$json_data = $redis-&gt;get($strCacheKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = json_decode($json_data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($data-&gt;age); //è¾“å‡ºæ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//HSET åº”ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$arrWebSite = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &#x27;google&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;google.com&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;google.com.hk&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;hSet($strCacheKey, &#x27;google&#x27;, json_encode($arrWebSite[&#x27;google&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$json_data = $redis-&gt;hGet($strCacheKey, &#x27;google&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = json_decode($json_data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($data); //è¾“å‡ºæ•°æ®</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•é˜Ÿåˆ—ç¼“å­˜å®æˆ˜">ç®€å•é˜Ÿåˆ—ç¼“å­˜å®æˆ˜<a class="hash-link" href="#ç®€å•é˜Ÿåˆ—ç¼“å­˜å®æˆ˜" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strQueueName  = &#x27;Test_bihu_queue&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è¿›é˜Ÿåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;rpush($strQueueName, json_encode([&#x27;uid&#x27; =&gt; 1,&#x27;name&#x27; =&gt; &#x27;Job&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;rpush($strQueueName, json_encode([&#x27;uid&#x27; =&gt; 2,&#x27;name&#x27; =&gt; &#x27;Tom&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;rpush($strQueueName, json_encode([&#x27;uid&#x27; =&gt; 3,&#x27;name&#x27; =&gt; &#x27;John&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- è¿›é˜Ÿåˆ—æˆåŠŸ ---- &lt;br /&gt;&lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æŸ¥çœ‹é˜Ÿåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strCount = $redis-&gt;lrange($strQueueName, 0, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;å½“å‰é˜Ÿåˆ—æ•°æ®ä¸ºï¼š &lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($strCount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å‡ºé˜Ÿåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;lpop($strQueueName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;br /&gt;&lt;br /&gt; ---- å‡ºé˜Ÿåˆ—æˆåŠŸ ---- &lt;br /&gt;&lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//æŸ¥çœ‹é˜Ÿåˆ—</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strCount = $redis-&gt;lrange($strQueueName, 0, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;å½“å‰é˜Ÿåˆ—æ•°æ®ä¸ºï¼š &lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($strCount);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•å‘å¸ƒè®¢é˜…å®æˆ˜">ç®€å•å‘å¸ƒè®¢é˜…å®æˆ˜<a class="hash-link" href="#ç®€å•å‘å¸ƒè®¢é˜…å®æˆ˜" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">//ä»¥ä¸‹æ˜¯ pub.php æ–‡ä»¶çš„å†…å®¹ cliä¸‹è¿è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ini_set(&#x27;default_socket_timeout&#x27;, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strChannel = &#x27;Test_bihu_channel&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å‘å¸ƒ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;publish($strChannel, &quot;æ¥è‡ª{$strChannel}é¢‘é“çš„æ¨é€&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- {$strChannel} ---- é¢‘é“æ¶ˆæ¯æ¨é€æˆåŠŸï½ &lt;br/&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// -------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ä»¥ä¸‹æ˜¯ sub.php æ–‡ä»¶å†…å®¹ cliä¸‹è¿è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ini_set(&#x27;default_socket_timeout&#x27;, -1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strChannel = &#x27;Test_bihu_channel&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è®¢é˜…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- è®¢é˜…{$strChannel}è¿™ä¸ªé¢‘é“ï¼Œç­‰å¾…æ¶ˆæ¯æ¨é€...----  &lt;br/&gt;&lt;br/&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;subscribe([$strChannel], &#x27;callBackFun&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function callBackFun($redis, $channel, $msg)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print_r([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;redis&#x27;   =&gt; $redis,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;channel&#x27; =&gt; $channel,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;msg&#x27;     =&gt; $msg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•è®¡æ•°å™¨å®æˆ˜">ç®€å•è®¡æ•°å™¨å®æˆ˜<a class="hash-link" href="#ç®€å•è®¡æ•°å™¨å®æˆ˜" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strKey = &#x27;Test_bihu_comments&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//è®¾ç½®åˆå§‹å€¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;set($strKey, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;INCR($strKey);  //+1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;INCR($strKey);  //+1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;INCR($strKey);  //+1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strNowCount = $redis-&gt;get($strKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- å½“å‰æ•°é‡ä¸º{$strNowCount}ã€‚ ---- &quot;;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="æ’è¡Œæ¦œå®æˆ˜">æ’è¡Œæ¦œå®æˆ˜<a class="hash-link" href="#æ’è¡Œæ¦œå®æˆ˜" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;connect(&#x27;127.0.0.1&#x27;, 6379);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$strKey = &#x27;Test_bihu_score&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å­˜å‚¨æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;zadd($strKey, &#x27;50&#x27;, json_encode([&#x27;name&#x27; =&gt; &#x27;Tom&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;zadd($strKey, &#x27;70&#x27;, json_encode([&#x27;name&#x27; =&gt; &#x27;John&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;zadd($strKey, &#x27;90&#x27;, json_encode([&#x27;name&#x27; =&gt; &#x27;Jerry&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;zadd($strKey, &#x27;30&#x27;, json_encode([&#x27;name&#x27; =&gt; &#x27;Job&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;zadd($strKey, &#x27;100&#x27;, json_encode([&#x27;name&#x27; =&gt; &#x27;LiMing&#x27;]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dataOne = $redis-&gt;ZREVRANGE($strKey, 0, -1, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- {$strKey}ç”±å¤§åˆ°å°çš„æ’åº ---- &lt;br /&gt;&lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($dataOne);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$dataTwo = $redis-&gt;ZRANGE($strKey, 0, -1, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&lt;br /&gt;&lt;br /&gt;---- {$strKey}ç”±å°åˆ°å¤§çš„æ’åº ---- &lt;br /&gt;&lt;br /&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print_r($dataTwo);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•å­—ç¬¦ä¸²æ‚²è§‚é”å®æˆ˜">ç®€å•å­—ç¬¦ä¸²æ‚²è§‚é”å®æˆ˜<a class="hash-link" href="#ç®€å•å­—ç¬¦ä¸²æ‚²è§‚é”å®æˆ˜" title="Direct link to heading">â€‹</a></h3><p>è§£é‡Šï¼šæ‚²è§‚é”(Pessimistic Lock), é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆæ‚²è§‚ã€‚</p><p>æ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ã€‚</p><p>åœºæ™¯ï¼šå¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†ç¼“å­˜ä¸”å¯¹ç¼“å­˜è®¾ç½®äº†è¶…æ—¶æ—¶é—´ã€‚</p><p>å½“å¹¶å‘é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰é”æœºåˆ¶ï¼Œé‚£ä¹ˆç¼“å­˜è¿‡æœŸçš„ç¬é—´ï¼Œ</p><p>å¤§é‡å¹¶å‘è¯·æ±‚ä¼šç©¿é€ç¼“å­˜ç›´æ¥æŸ¥è¯¢æ•°æ®åº“ï¼Œé€ æˆé›ªå´©æ•ˆåº”ã€‚</p><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * è·å–é”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param  String  $key    é”æ ‡è¯†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param  Int     $expire é”è¿‡æœŸæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function lock($key = &#x27;&#x27;, $expire = 5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $is_lock = $this-&gt;_redis-&gt;setnx($key, time()+$expire);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //ä¸èƒ½è·å–é”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(!$is_lock){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //åˆ¤æ–­é”æ˜¯å¦è¿‡æœŸ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $lock_time = $this-&gt;_redis-&gt;get($key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //é”å·²è¿‡æœŸï¼Œåˆ é™¤é”ï¼Œé‡æ–°è·å–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (time() &gt; $lock_time) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            unlock($key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $is_lock = $this-&gt;_redis-&gt;setnx($key, time() + $expire);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return $is_lock? true : false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * é‡Šæ”¾é”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param  String  $key é”æ ‡è¯†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @return Boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public function unlock($key = &#x27;&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return $this-&gt;_redis-&gt;del($key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å®šä¹‰é”æ ‡è¯†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$key = &#x27;Test_bihu_lock&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// è·å–é”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$is_lock = lock($key, 10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ($is_lock) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &#x27;get lock success&lt;br&gt;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &#x27;do sth..&lt;br&gt;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sleep(5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &#x27;success&lt;br&gt;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unlock($key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else { //è·å–é”å¤±è´¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &#x27;request too frequently&lt;br&gt;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç®€å•äº‹åŠ¡çš„ä¹è§‚é”å®æˆ˜">ç®€å•äº‹åŠ¡çš„ä¹è§‚é”å®æˆ˜<a class="hash-link" href="#ç®€å•äº‹åŠ¡çš„ä¹è§‚é”å®æˆ˜" title="Direct link to heading">â€‹</a></h3><p>è§£é‡Šï¼šä¹è§‚é”(Optimistic Lock), é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¾ˆä¹è§‚ã€‚</p><p>æ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ã€‚</p><p>watchå‘½ä»¤ä¼šç›‘è§†ç»™å®šçš„keyï¼Œå½“execæ—¶å€™å¦‚æœç›‘è§†çš„keyä»è°ƒç”¨watchåå‘ç”Ÿè¿‡å˜åŒ–ï¼Œåˆ™æ•´ä¸ªäº‹åŠ¡ä¼šå¤±è´¥ã€‚</p><p>ä¹Ÿå¯ä»¥è°ƒç”¨watchå¤šæ¬¡ç›‘è§†å¤šä¸ªkeyã€‚è¿™æ ·å°±å¯ä»¥å¯¹æŒ‡å®šçš„keyåŠ ä¹è§‚é”äº†ã€‚</p><p>æ³¨æ„watchçš„keyæ˜¯å¯¹æ•´ä¸ªè¿æ¥æœ‰æ•ˆçš„ï¼Œäº‹åŠ¡ä¹Ÿä¸€æ ·ã€‚</p><p>å¦‚æœè¿æ¥æ–­å¼€ï¼Œç›‘è§†å’Œäº‹åŠ¡éƒ½ä¼šè¢«è‡ªåŠ¨æ¸…é™¤ã€‚</p><p>å½“ç„¶äº†execï¼Œdiscardï¼Œunwatchå‘½ä»¤éƒ½ä¼šæ¸…é™¤è¿æ¥ä¸­çš„æ‰€æœ‰ç›‘è§†ã€‚</p><div class="codeBlockContainer_I0IT language-php theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-php codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$strKey = &#x27;Test_bihu_age&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;set($strKey,10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$age = $redis-&gt;get($strKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- Current Age:{$age} ---- &lt;br/&gt;&lt;br/&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;watch($strKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¼€å¯äº‹åŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;multi();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//åœ¨è¿™ä¸ªæ—¶å€™æ–°å¼€äº†ä¸€ä¸ªæ–°ä¼šè¯æ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;set($strKey,30);  //æ–°ä¼šè¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- Current Age:{$age} ---- &lt;br/&gt;&lt;br/&gt;&quot;; //30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;set($strKey,20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$redis-&gt;exec();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$age = $redis-&gt;get($strKey);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;---- Current Age:{$age} ---- &lt;br/&gt;&lt;br/&gt;&quot;; //30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//å½“execæ—¶å€™å¦‚æœç›‘è§†çš„keyä»è°ƒç”¨watchåå‘ç”Ÿè¿‡å˜åŒ–ï¼Œåˆ™æ•´ä¸ªäº‹åŠ¡ä¼šå¤±è´¥</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/redis/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ç®€ä»‹</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/redis/plus"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">è¿›é˜¶</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£…" class="table-of-contents__link toc-highlight">å®‰è£…</a><ul><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li></ul></li><li><a href="#æ•°æ®ç±»å‹" class="table-of-contents__link toc-highlight">æ•°æ®ç±»å‹</a><ul><li><a href="#stringå­—ç¬¦ä¸²" class="table-of-contents__link toc-highlight">Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</a></li><li><a href="#hashå“ˆå¸Œ" class="table-of-contents__link toc-highlight">Hashï¼ˆå“ˆå¸Œï¼‰</a></li><li><a href="#liståˆ—è¡¨" class="table-of-contents__link toc-highlight">Listï¼ˆåˆ—è¡¨ï¼‰</a></li><li><a href="#seté›†åˆ" class="table-of-contents__link toc-highlight">Setï¼ˆé›†åˆï¼‰</a></li><li><a href="#zsetsorted-setæœ‰åºé›†åˆ" class="table-of-contents__link toc-highlight">zset(sorted setï¼šæœ‰åºé›†åˆ)</a></li></ul></li><li><a href="#å‘½ä»¤æ±‡æ€»" class="table-of-contents__link toc-highlight">å‘½ä»¤æ±‡æ€»</a><ul><li><a href="#key" class="table-of-contents__link toc-highlight">key</a></li><li><a href="#string" class="table-of-contents__link toc-highlight">string</a></li><li><a href="#hash" class="table-of-contents__link toc-highlight">hash</a></li><li><a href="#list" class="table-of-contents__link toc-highlight">list</a></li><li><a href="#set" class="table-of-contents__link toc-highlight">set</a></li><li><a href="#zset" class="table-of-contents__link toc-highlight">zset</a></li><li><a href="#æ’åº" class="table-of-contents__link toc-highlight">æ’åºï¼š</a></li><li><a href="#è®¢é˜…ä¸å‘å¸ƒ" class="table-of-contents__link toc-highlight">è®¢é˜…ä¸å‘å¸ƒï¼š</a></li><li><a href="#redisäº‹åŠ¡" class="table-of-contents__link toc-highlight">redisäº‹åŠ¡ï¼š</a></li><li><a href="#æœåŠ¡å™¨ç®¡ç†" class="table-of-contents__link toc-highlight">æœåŠ¡å™¨ç®¡ç†</a></li></ul></li><li><a href="#å¸¸è§çš„ä½¿ç”¨åœºæ™¯" class="table-of-contents__link toc-highlight">å¸¸è§çš„ä½¿ç”¨åœºæ™¯</a><ul><li><a href="#ç®€å•å­—ç¬¦ä¸²ç¼“å­˜å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•å­—ç¬¦ä¸²ç¼“å­˜å®æˆ˜</a></li><li><a href="#ç®€å•é˜Ÿåˆ—ç¼“å­˜å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•é˜Ÿåˆ—ç¼“å­˜å®æˆ˜</a></li><li><a href="#ç®€å•å‘å¸ƒè®¢é˜…å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•å‘å¸ƒè®¢é˜…å®æˆ˜</a></li><li><a href="#ç®€å•è®¡æ•°å™¨å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•è®¡æ•°å™¨å®æˆ˜</a></li><li><a href="#æ’è¡Œæ¦œå®æˆ˜" class="table-of-contents__link toc-highlight">æ’è¡Œæ¦œå®æˆ˜</a></li><li><a href="#ç®€å•å­—ç¬¦ä¸²æ‚²è§‚é”å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•å­—ç¬¦ä¸²æ‚²è§‚é”å®æˆ˜</a></li><li><a href="#ç®€å•äº‹åŠ¡çš„ä¹è§‚é”å®æˆ˜" class="table-of-contents__link toc-highlight">ç®€å•äº‹åŠ¡çš„ä¹è§‚é”å®æˆ˜</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.cnblogs.com/ovim/" target="_blank" rel="noopener noreferrer" class="footer__link-item">cnblogs.com<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ovim" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://space.bilibili.com/315847004" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bilibili<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.csdn.net/weixin_45566227" target="_blank" rel="noopener noreferrer" class="footer__link-item">xiaoniziï¸<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.shx1024.top/" target="_blank" rel="noopener noreferrer" class="footer__link-item">huixin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.csdn.net/qq_42249896/" target="_blank" rel="noopener noreferrer" class="footer__link-item">guangtouqiang<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://www.cnblogs.com/guangzan/" target="_blank" rel="noopener noreferrer" class="footer__link-item">guangzan<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.cnblogs.com/fanzhen/" target="_blank" rel="noopener noreferrer" class="footer__link-item">fanzhen<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
                    Copyright Â© 2022 ovim, Inc. 
                    Built with Docusaurus. 
                    <a href="https://storyset.com/home" target="__blank">Home illustrations by Storyset</a>
                    <p>
                        <a href="http://beian.miit.gov.cn/" target="__blank">é²ICPå¤‡2021002124å·-1
                        </a>
                    </p>
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="__blank">
                        <img alt="Creative Commons License" style="border-width:0" src="/img/creative-commons-license-icon.png">
                    </a>
                    <br>
                    æœ¬ç«™æ‰€æœ‰å†…å®¹éµå¾ª 
                        <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh-Hans" target="__blank">CC BY-NC 4.0 åè®®
                        </a>ï¼Œè½¬è½½é¡»æ³¨æ˜ç½²åå’Œå‡ºå¤„ï¼Œä¸”ä¸å¯ç”¨äºå•†ä¸šç”¨é€”ã€‚è‹¥ä¸å…¶ä»–åŒæ­¥å¹³å°åè®®å†²çªï¼Œä»¥æœ¬ç½‘ç«™ä¸ºå‡†ã€‚
                </div></div></div></footer></div>
<script src="/assets/js/runtime~main.94b7e390.js"></script>
<script src="/assets/js/main.56714329.js"></script>
</body>
</html>